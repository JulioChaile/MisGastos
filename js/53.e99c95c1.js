(self["webpackChunkmis_gastos"]=self["webpackChunkmis_gastos"]||[]).push([[53],{6698:(s,e,t)=>{"use strict";t.r(e),t.d(e,{default:()=>F});var a=t(3673),o=t(2323);const l=(0,a.HX)("data-v-2490aa4a");(0,a.dD)("data-v-2490aa4a");const i={key:0},n={class:"column justify-start q-mb-md"},r={class:"text-caption text-grey"},c={key:0,class:"flex items-center"},d={key:1,class:"flex items-center"},m={class:"full-width row q-my-md q-pr-lg"},u={class:"col-2 row"},h={class:"items-container q-pr-lg"},g={key:0,class:"row items-center"},j={class:"col-6 column"},p={class:"col-6 text-subtitle2"},f={class:"text-caption text-grey-14"},v={class:"col-4 text-subtitle1 q-px-sm"},w={class:"col-2 row justify-center items-center"},y={key:1,class:"full-width row q-mb-sm"},k={class:"col-2 row"};(0,a.Cn)();const x=l(((s,e,t,x,b,I)=>{const q=(0,a.up)("q-icon"),_=(0,a.up)("q-input"),z=(0,a.up)("q-separator"),$=(0,a.up)("q-date"),S=(0,a.up)("q-popup-proxy"),V=(0,a.up)("AcercaDe"),W=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(W,{class:"q-pl-lg q-pt-lg"},{default:l((()=>["info"!==s.mode?((0,a.wg)(),(0,a.j4)("div",i,[(0,a.Wm)("section",n,[(0,a.Wm)("span",r,(0,o.zw)("gastos"===s.mode?"Saldo":"Total"),1),s.editSaldo?((0,a.wg)(),(0,a.j4)("div",d,[(0,a.Wm)(_,{class:"q-pr-sm",modelValue:s.saldoAux,"onUpdate:modelValue":e[3]||(e[3]=e=>s.saldoAux=e),dense:""},null,8,["modelValue"]),(0,a.Wm)(q,{class:"cursor-pointer q-mt-sm",name:"check_circle",size:"sm",color:"positive",onClick:e[4]||(e[4]=e=>s.editarSaldo(!0))})])):((0,a.wg)(),(0,a.j4)("div",c,[s.editSaldo?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)("span",{key:0,class:"text-h5 flex items-center",style:s.color(),onClick:e[1]||(e[1]=e=>"gastos"===s.mode?s.editarSaldo(!1):"")},(0,o.zw)(s.saldo_),5)),"gastos"===s.mode?((0,a.wg)(),(0,a.j4)(q,{key:1,class:"cursor-pointer q-ml-md",name:"edit",size:"xs",color:"primary",onClick:e[2]||(e[2]=e=>s.editarSaldo(!1))})):(0,a.kq)("",!0)]))]),(0,a.Wm)(z),(0,a.Wm)("section",m,[(0,a.Wm)(_,{class:"col-6",modelValue:s.newItem.motivo,"onUpdate:modelValue":e[5]||(e[5]=e=>s.newItem.motivo=e),label:"Motivo",dense:""},null,8,["modelValue"]),(0,a.Wm)(_,{class:"col-4 q-pl-sm",modelValue:s.newItem.gasto,"onUpdate:modelValue":e[6]||(e[6]=e=>s.newItem.gasto=e),label:"Gasto",dense:""},null,8,["modelValue"]),(0,a.Wm)("div",u,[(0,a.Wm)(q,{class:"cursor-pointer col-6",name:"event",size:"sm",color:"primary"},{default:l((()=>[(0,a.Wm)(S,{"transition-show":"scale","transition-hide":"scale",ref:"qDateProxy"},{default:l((()=>[(0,a.Wm)($,{modelValue:s.newItem.fecha,"onUpdate:modelValue":[e[7]||(e[7]=e=>s.newItem.fecha=e),s.cerrarPopup],mask:"DD/MM/YYYY"},null,8,["modelValue","onUpdate:modelValue"])])),_:1},512)])),_:1}),(0,a.Wm)(q,{class:"cursor-pointer col-6",name:"add_circle",size:"sm",color:"positive",onClick:s.agregarItem},null,8,["onClick"])])]),(0,a.Wm)("section",h,[((0,a.wg)(!0),(0,a.j4)(a.HY,null,(0,a.Ko)(s.itemsOrdenados,(e=>((0,a.wg)(),(0,a.j4)("div",{key:e.id,class:"q-py-sm item"},[e.editar?((0,a.wg)(),(0,a.j4)("div",y,[(0,a.Wm)(_,{class:"col-6",modelValue:e.motivo,"onUpdate:modelValue":s=>e.motivo=s,label:"Motivo",dense:""},null,8,["modelValue","onUpdate:modelValue"]),(0,a.Wm)(_,{class:"col-4 q-px-sm",modelValue:e.gasto,"onUpdate:modelValue":s=>e.gasto=s,label:"Gasto",dense:""},null,8,["modelValue","onUpdate:modelValue"]),(0,a.Wm)("div",k,[(0,a.Wm)(q,{class:"cursor-pointer col-6",name:"event",size:"sm",color:"primary"},{default:l((()=>[(0,a.Wm)(S,{"transition-show":"scale","transition-hide":"scale",ref:"qDateProxy"},{default:l((()=>[(0,a.Wm)($,{modelValue:e.fechaAux,"onUpdate:modelValue":[s=>e.fechaAux=s,s.cerrarPopup],mask:"DD/MM/YYYY"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1536)])),_:2},1024),(0,a.Wm)(q,{class:"cursor-pointer col-6",name:"check_circle",size:"sm",color:"positive",onClick:t=>s.editarItem(e,!0)},null,8,["onClick"])])])):((0,a.wg)(),(0,a.j4)("div",g,[(0,a.Wm)("div",j,[(0,a.Wm)("span",p,(0,o.zw)(e.motivo),1),(0,a.Wm)("span",f,(0,o.zw)(e.fecha),1)]),(0,a.Wm)("span",v," $"+(0,o.zw)(e.gasto),1),(0,a.Wm)("div",w,[(0,a.Wm)(q,{class:"cursor-pointer col-6",name:"edit",size:"sm",color:"primary",onClick:t=>s.editarItem(e)},null,8,["onClick"]),(0,a.Wm)(q,{class:"cursor-pointer col-6",name:"cancel",size:"sm",color:"negative",onClick:t=>s.eliminarItem(e.id)},null,8,["onClick"])])]))])))),128))])])):((0,a.wg)(),(0,a.j4)(V,{key:1,clases:"q-pr-lg"}))])),_:1})}));t(7098),t(7070),t(7280),t(5363);var b=t(1488),I=t.n(b);t(71);const q=(0,a.HX)("data-v-5c14a20d");(0,a.dD)("data-v-5c14a20d");const _={class:"column acerca_de_container items-center"},z=(0,a.uE)('<div class="column items-center info" data-v-5c14a20d><div class="marca text-h3 text-weight-bold q-pa-xs" data-v-5c14a20d> PaTSUM </div><div class="slogan text-center text-subtitle2 text-weight-medium" data-v-5c14a20d><span data-v-5c14a20d> Aplicaciones sencillas </span><br data-v-5c14a20d><span data-v-5c14a20d> Para problemas cotidianos </span></div><div class="sitio_web text-caption q-mt-xl" data-v-5c14a20d> Sitio web: <a id="sitio_web" href="#" data-v-5c14a20d>aaa.aaa.aaa</a></div></div>',1);(0,a.Cn)();const $=q(((s,e,t,o,l,i)=>((0,a.wg)(),(0,a.j4)("section",_,[(0,a.Wm)("div",{class:"logo oculto mostrar active q-ma-md q-mt-xl",onClick:e[1]||(e[1]=(...s)=>i.logo&&i.logo(...s))}),z])))),S={props:["clases"],data(){return{loading:!0}},mounted(){const s=document.getElementsByClassName("acerca_de_container")[0];s.classList.toggle(this.clases);const e=document.getElementsByClassName("logo")[0],t=document.getElementsByClassName("slogan")[0],a=document.getElementsByClassName("marca")[0],o=document.getElementsByClassName("sitio_web")[0],l=document.getElementById("sitio_web");setTimeout((()=>{e.classList.toggle("oculto")}),1),setTimeout((()=>{e.classList.toggle("mostrar"),e.classList.toggle("active"),this.loading=!1}),2e3),setTimeout((()=>{t.classList.toggle("mostrar"),a.classList.toggle("mostrar"),o.classList.toggle("mostrar"),l.classList.toggle("mostrar")}),2500)},methods:{logo(){if(this.loading)return;const s=document.getElementsByClassName("logo")[0];s.classList.toggle("active")}}};S.render=$,S.__scopeId="data-v-5c14a20d";const V=S,W="mis_gastos_g",C="mis_gastos_d",Y="mis_gastos_s",D=(0,a.aZ)({name:"PageIndex",props:["mode"],components:{AcercaDe:V},data(){return{saldo:0,saldoAux:"",newItem:{motivo:"",gasto:"",fecha:I()().format("DD/MM/YYYY")},gastos:[],deudas:[],editSaldo:!1}},created(){const s=localStorage.getItem(W),e=localStorage.getItem(C),t=localStorage.getItem(Y);s&&(this.gastos=JSON.parse(s),console.log(this.gastos)),e&&(this.deudas=JSON.parse(e)),t&&(this.saldo=t)},watch:{saldo(){localStorage.setItem(Y,this.saldo)},mode(){this.editSaldo=!1,this.newItem={motivo:"",gasto:"",fecha:I()().format("DD/MM/YYYY")},this.gastos.forEach((s=>{s.editar=!1})),this.deudas.forEach((s=>{s.editar=!1}))}},computed:{itemsOrdenados(){const s=this[this.mode];return s.sort(((s,e)=>{const t=s.fecha.split("/").reverse();t[1]=parseInt(t[1])-1;const a=e.fecha.split("/").reverse();return a[1]=parseInt(a[1])-1,-I()(t).diff(I()(a),"days")}))},saldo_(){const s=this.saldo<0?"-$"+-1*this.saldo:`$${this.saldo}`;let e=0;this.deudas.forEach((s=>{e+=parseFloat(s.gasto)}));const t={gastos:s,deudas:`$${e}`};return t[this.mode]}},methods:{cerrarPopup(s,e,t){"add-day"===e&&this.$nextTick((()=>{this.$refs.qDateProxy.hide()}))},agregarItem(){if(!this.newItem.motivo||!this.newItem.gasto)return void this.$q.notify("Debe llenar todos los campos");if(this.newItem.gasto=this.newItem.gasto.replace(/,/g,"."),0===parseFloat(this.newItem.gasto))return void this.$q.notify("El valor ingresado no puede ser cero");if(!this.numeroValido(this.newItem.gasto))return void this.$q.notify("El numero ingresado no es valido");this.newItem.fecha||(this.newItem.fecha=I()().format("DD/MM/YYYY"));const s=this.mode;this.newItem.gasto=parseFloat(this.newItem.gasto);const e=Math.floor(9999*Math.random()+1);this.newItem.id=`${e}_${this.newItem.motivo}_${this.newItem.gasto}_${this.newItem.fecha}`,"gastos"===s&&(this.saldo=this.saldo-this.newItem.gasto),this[s].push(this.newItem),this.setStorage(),this.newItem={motivo:"",gasto:"",fecha:I()().format("DD/MM/YYYY")}},editarSaldo(s){s?(this.saldoAux=this.saldoAux.replace(/,/g,"."),this.numeroValido(this.saldoAux)||"-"===this.saldoAux.charAt(0)?this.saldo=parseFloat(this.saldoAux):this.$q.notify("El numero ingresado no es valido")):this.saldoAux=this.saldo.toString(),this.editSaldo=!s},editarItem(s,e=!1){if(e){if(0===parseFloat(s.gasto))return void this.$q.notify("El valor ingresado no puede ser cero");if(!s.gasto||!s.motivo||!s.fechaAux)return void this.$q.notify("Debe llenar todos los campos");if(s.gasto=s.gasto.toString().replace(/,/g,"."),!this.numeroValido(s.gasto))return void this.$q.notify("El numero ingresado no es valido");s.editar=!1,s.fecha=s.fechaAux,s.gasto=parseFloat(s.gasto),"gastos"===this.mode&&(this.saldo=this.saldo-(s.gasto-s.gastoAux));const e=s.id.split("_")[0];s.id=`${e}_${s.motivo}_${s.gasto}_${s.fecha}`,this.setStorage()}else s.editar=!0,s.gastoAux=s.gasto,s.fechaAux=s.fecha},eliminarItem(s){const e=this.mode,t=this[e].findIndex((e=>e.id===s));if(t>=0){let s=this[e][t];this[e].splice(t,1),this.setStorage(),"gastos"===e&&(this.saldo=parseFloat(this.saldo)+s.gasto);const a=`notify_${s.id}`,o=this.$q.notify({color:"negative",textColor:"white",html:!0,classes:`full-width ${a}`,timeout:5e3,message:`<div class="text-center column">\n                      <span class="text-subtitle1">Toca para restaurar</span>\n                      <span class="text-caption">${s.motivo} $${s.gasto} ${s.fecha}</span>\n                    </div>`});this.$nextTick((()=>{document.getElementsByClassName(a)[0].addEventListener("click",(()=>{s&&(this[e].push(s),this.setStorage(),"gastos"===e&&(this.saldo=this.saldo-parseFloat(s.gasto)),s=null),o()}))}))}else this.$q.notify("Hubo un error al procesar la solicitud.")},numeroValido(s){return s.length&&!this.tieneLetras(s)&&!this.valorInvalido(s)&&!isNaN(parseFloat(s))&&this.soloNumeros(s)},tieneLetras(s){const e="abcdefghyjklmnñopqrstuvwxyz";s=s.toLowerCase();for(let t=0;t<s.length;t++)if(-1!==e.indexOf(s.charAt(t),0))return 1;return 0},soloNumeros(s){const e="0123456789.";for(let t=0;t<s.length;t++)if(-1===e.indexOf(s.charAt(t),0))return 0;return 1},valorInvalido(s){let e=0;for(let t=0;t<s.length;t++)"."===s.charAt(t)&&e++;return e>=2},color(){return"gastos"===this.mode?this.saldo?this.saldo<0?"color: red":"color: green":"":"$0"===this.saldo_?"color: green":"color: red"},setStorage(){const s=JSON.stringify(this.gastos);localStorage.setItem(W,s);const e=JSON.stringify(this.deudas);localStorage.setItem(C,e)}}});var A=t(4379),E=t(4554),M=t(1206),N=t(5869),L=t(5334),U=t(5719),O=t(7518),P=t.n(O);D.render=x,D.__scopeId="data-v-2490aa4a";const F=D;P()(D,"components",{QPage:A.Z,QIcon:E.Z,QInput:M.Z,QSeparator:N.Z,QPopupProxy:L.Z,QDate:U.Z})},6700:(s,e,t)=>{var a={"./af":5809,"./af.js":5809,"./ar":6069,"./ar-dz":481,"./ar-dz.js":481,"./ar-kw":3994,"./ar-kw.js":3994,"./ar-ly":3312,"./ar-ly.js":3312,"./ar-ma":239,"./ar-ma.js":239,"./ar-sa":1863,"./ar-sa.js":1863,"./ar-tn":9607,"./ar-tn.js":9607,"./ar.js":6069,"./az":9281,"./az.js":9281,"./be":9945,"./be.js":9945,"./bg":9384,"./bg.js":9384,"./bm":1476,"./bm.js":1476,"./bn":3345,"./bn-bd":216,"./bn-bd.js":216,"./bn.js":3345,"./bo":1713,"./bo.js":1713,"./br":9655,"./br.js":9655,"./bs":7296,"./bs.js":7296,"./ca":3049,"./ca.js":3049,"./cs":2722,"./cs.js":2722,"./cv":8039,"./cv.js":8039,"./cy":5563,"./cy.js":5563,"./da":1960,"./da.js":1960,"./de":7533,"./de-at":6674,"./de-at.js":6674,"./de-ch":7732,"./de-ch.js":7732,"./de.js":7533,"./dv":8343,"./dv.js":8343,"./el":7004,"./el.js":7004,"./en-au":2517,"./en-au.js":2517,"./en-ca":4929,"./en-ca.js":4929,"./en-gb":9722,"./en-gb.js":9722,"./en-ie":6923,"./en-ie.js":6923,"./en-il":8050,"./en-il.js":8050,"./en-in":9624,"./en-in.js":9624,"./en-nz":540,"./en-nz.js":540,"./en-sg":4375,"./en-sg.js":4375,"./eo":40,"./eo.js":40,"./es":9720,"./es-do":5595,"./es-do.js":5595,"./es-mx":180,"./es-mx.js":180,"./es-us":1563,"./es-us.js":1563,"./es.js":9720,"./et":9217,"./et.js":9217,"./eu":9474,"./eu.js":9474,"./fa":5243,"./fa.js":5243,"./fi":7645,"./fi.js":7645,"./fil":5350,"./fil.js":5350,"./fo":5622,"./fo.js":5622,"./fr":1467,"./fr-ca":3439,"./fr-ca.js":3439,"./fr-ch":4335,"./fr-ch.js":4335,"./fr.js":1467,"./fy":6026,"./fy.js":6026,"./ga":2969,"./ga.js":2969,"./gd":1347,"./gd.js":1347,"./gl":1085,"./gl.js":1085,"./gom-deva":904,"./gom-deva.js":904,"./gom-latn":9597,"./gom-latn.js":9597,"./gu":8705,"./gu.js":8705,"./he":9128,"./he.js":9128,"./hi":2821,"./hi.js":2821,"./hr":9002,"./hr.js":9002,"./hu":4814,"./hu.js":4814,"./hy-am":658,"./hy-am.js":658,"./id":9344,"./id.js":9344,"./is":8204,"./is.js":8204,"./it":376,"./it-ch":1549,"./it-ch.js":1549,"./it.js":376,"./ja":9293,"./ja.js":9293,"./jv":6401,"./jv.js":6401,"./ka":482,"./ka.js":482,"./kk":7329,"./kk.js":7329,"./km":4241,"./km.js":4241,"./kn":3566,"./kn.js":3566,"./ko":2742,"./ko.js":2742,"./ku":2915,"./ku.js":2915,"./ky":6846,"./ky.js":6846,"./lb":4959,"./lb.js":4959,"./lo":2188,"./lo.js":2188,"./lt":8967,"./lt.js":8967,"./lv":1245,"./lv.js":1245,"./me":751,"./me.js":751,"./mi":7501,"./mi.js":7501,"./mk":1643,"./mk.js":1643,"./ml":5597,"./ml.js":5597,"./mn":7612,"./mn.js":7612,"./mr":9065,"./mr.js":9065,"./ms":4703,"./ms-my":4645,"./ms-my.js":4645,"./ms.js":4703,"./mt":4365,"./mt.js":4365,"./my":3788,"./my.js":3788,"./nb":7357,"./nb.js":7357,"./ne":9109,"./ne.js":9109,"./nl":3746,"./nl-be":1985,"./nl-be.js":1985,"./nl.js":3746,"./nn":7175,"./nn.js":7175,"./oc-lnc":566,"./oc-lnc.js":566,"./pa-in":2733,"./pa-in.js":2733,"./pl":182,"./pl.js":182,"./pt":505,"./pt-br":7839,"./pt-br.js":7839,"./pt.js":505,"./ro":9578,"./ro.js":9578,"./ru":2328,"./ru.js":2328,"./sd":641,"./sd.js":641,"./se":1758,"./se.js":1758,"./si":6680,"./si.js":6680,"./sk":5016,"./sk.js":5016,"./sl":7424,"./sl.js":7424,"./sq":8635,"./sq.js":8635,"./sr":9038,"./sr-cyrl":3716,"./sr-cyrl.js":3716,"./sr.js":9038,"./ss":4771,"./ss.js":4771,"./sv":3517,"./sv.js":3517,"./sw":9419,"./sw.js":9419,"./ta":5959,"./ta.js":5959,"./te":1739,"./te.js":1739,"./tet":2264,"./tet.js":2264,"./tg":4792,"./tg.js":4792,"./th":8328,"./th.js":8328,"./tk":702,"./tk.js":702,"./tl-ph":7814,"./tl-ph.js":7814,"./tlh":797,"./tlh.js":797,"./tr":6691,"./tr.js":6691,"./tzl":6891,"./tzl.js":6891,"./tzm":6362,"./tzm-latn":7855,"./tzm-latn.js":7855,"./tzm.js":6362,"./ug-cn":7606,"./ug-cn.js":7606,"./uk":513,"./uk.js":513,"./ur":3803,"./ur.js":3803,"./uz":344,"./uz-latn":8957,"./uz-latn.js":8957,"./uz.js":344,"./vi":3,"./vi.js":3,"./x-pseudo":8842,"./x-pseudo.js":8842,"./yo":2083,"./yo.js":2083,"./zh-cn":4536,"./zh-cn.js":4536,"./zh-hk":2475,"./zh-hk.js":2475,"./zh-mo":7593,"./zh-mo.js":7593,"./zh-tw":4746,"./zh-tw.js":4746};function o(s){var e=l(s);return t(e)}function l(s){if(!t.o(a,s)){var e=new Error("Cannot find module '"+s+"'");throw e.code="MODULE_NOT_FOUND",e}return a[s]}o.keys=function(){return Object.keys(a)},o.resolve=l,s.exports=o,o.id=6700}}]);